{"version":3,"file":"commonHelpers.js","sources":["../js/pixabay-api.js","../js/render-functions.js","../src/img/caution.svg","../src/img/error.svg","../src/main.js"],"sourcesContent":["const KEY = '42472601-e2efb745d6431960b7108569a';\n\nexport function fetchImages(search) {\n    const url = `https://pixabay.com/api/?key=${KEY}&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(url).then((res) => {\n        if (!res.ok) {\n            throw new Error(`HTTP error! Status: ${res.status}`);\n        }\n        return res.json();\n    });\n}\n","//бібліотеки\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst LOADER = document.getElementById('loader');\nconst GALLERY = document.getElementById('gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function showImages(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<div class=\"card\">\n      <a href=\"${largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${tags}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\"/>\n      </a>\n      <div class=\"card-border\">\n      <div class=\"param\">\n      <p class=\"title\">Likes:</p>\n      <p class=\"title\">Views:</p>\n      <p class=\"title\">Comments:</p>\n      <p class=\"title\">Downloads:</p>\n       </div>\n        <div class=\"param\">\n      <p class=\"title-value\">${likes}</p>\n      <p class=\"title-value\">${views}</p>\n      <p class=\"title-value\">${comments}</p>\n      <p class=\"title-value\">${downloads}</p>\n       </div>\n      </div>\n    </div>`);\n\n    GALLERY.innerHTML = markup.join('');\n\n    const imgLoad = GALLERY.querySelectorAll('img');\n    const loadDelay = Array.from(imgLoad).map(img =>\n        new Promise((resolve, reject) => {\n            img.onload = resolve;\n            img.onerror = reject;\n        })\n    );\n\n    Promise.all(loadDelay)\n        .then(() => {\n            LOADER.style.display = 'none';\n        })\n        .catch((error) => {\n            console.error('Error loading images:', error);\n        });\n\n    lightbox.refresh()\n}","export default \"__VITE_ASSET__02852ca5__\"","export default \"__VITE_ASSET__8479b7dd__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"../js/pixabay-api\";\nimport { showImages } from \"../js/render-functions\";\n\nimport cautionIcon from './img/caution.svg';\nimport errorIcon from './img/error.svg';\n\nconst LOADER = document.getElementById('loader');\nconst GALLERY = document.getElementById('gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\nconst SEARCH_FORM = document.getElementById('search-form');\nconst SEARCH_INPUT = document.getElementById('search-input');\n\n\nSEARCH_FORM.addEventListener('submit', function (event) {\n    event.preventDefault();\n    const query = SEARCH_INPUT.value.trim();\n\n    if (query === \"\") {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term!',\n            theme: 'dark',\n            position: 'topRight',\n            backgroundColor: '#ef4040',\n            messageColor: '#fafafb',\n            iconUrl: errorIcon,\n        });\n        return;\n    }\n\n\n    LOADER.style.display = 'block';\n\n    GALLERY.innerHTML = \"\";\n\n\n    fetchImages(query)\n        .then((data) => {\n            setTimeout(() => {\n                LOADER.style.display = 'none';\n            }, 1500);\n           \n            if (data.hits.length === 0) {\n                iziToast.warning({\n                    title: 'No results',\n                    message: 'Sorry, there are no images matching your search.Please try again!',\n                     theme: 'dark',\n                    position: 'topRight',\n                    backgroundColor: '#ffa000',\n                    messageColor: '#fafafb',\n                     iconUrl: cautionIcon\n                });\n            } else {\n                showImages(data.hits);\n            }\n        })\n        .catch((error) => {\n            LOADER.style.display = 'none';\n\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching images. Please try again!'\n            });\n            console.error('Error fetching images:', error);\n        });\n});\n\n"],"names":["KEY","fetchImages","search","url","res","LOADER","GALLERY","lightbox","SimpleLightbox","showImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imgLoad","loadDelay","img","resolve","reject","error","cautionIcon","errorIcon","SEARCH_FORM","SEARCH_INPUT","event","query","iziToast","data"],"mappings":"wvBAAA,MAAMA,EAAM,qCAEL,SAASC,EAAYC,EAAQ,CAChC,MAAMC,EAAM,gCAAgCH,CAAG,MAAME,CAAM,2DAE3D,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAQ,CAC5B,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAM,uBAAuBA,EAAI,MAAM,EAAE,EAEvD,OAAOA,EAAI,MACnB,CAAK,CACL,CCJA,MAAMC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAWC,EAAQ,CAC/B,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/F;AAAA,iBACSL,CAAa,yCAAyCC,CAAI;AAAA,oBACvDF,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAU/BC,CAAK;AAAA,+BACLC,CAAK;AAAA,+BACLC,CAAQ;AAAA,+BACRC,CAAS;AAAA;AAAA;AAAA,WAG7B,EAEPZ,EAAQ,UAAYK,EAAO,KAAK,EAAE,EAElC,MAAMQ,EAAUb,EAAQ,iBAAiB,KAAK,EACxCc,EAAY,MAAM,KAAKD,CAAO,EAAE,IAAIE,GACtC,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC7BF,EAAI,OAASC,EACbD,EAAI,QAAUE,CAC1B,CAAS,CACT,EAEI,QAAQ,IAAIH,CAAS,EAChB,KAAK,IAAM,CACRf,EAAO,MAAM,QAAU,MACnC,CAAS,EACA,MAAOmB,GAAU,CACd,QAAQ,MAAM,wBAAyBA,CAAK,CACxD,CAAS,EAELjB,EAAS,QAAS,CACtB,CCpDA,MAAekB,EAAA,6CCAAC,EAAA,2CCUTrB,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAChC,IAAIE,EAAe,YAAY,EAChD,MAAMmB,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAe,SAAS,eAAe,cAAc,EAG3DD,EAAY,iBAAiB,SAAU,SAAUE,EAAO,CACpDA,EAAM,eAAc,EACpB,MAAMC,EAAQF,EAAa,MAAM,KAAI,EAErC,GAAIE,IAAU,GAAI,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,MAAO,OACP,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,QAASL,CACrB,CAAS,EACD,MACH,CAGDrB,EAAO,MAAM,QAAU,QAEvBC,EAAQ,UAAY,GAGpBL,EAAY6B,CAAK,EACZ,KAAME,GAAS,CACZ,WAAW,IAAM,CACb3B,EAAO,MAAM,QAAU,MAC1B,EAAE,IAAI,EAEH2B,EAAK,KAAK,SAAW,EACrBD,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,oEACR,MAAO,OACR,SAAU,WACV,gBAAiB,UACjB,aAAc,UACb,QAASN,CAC9B,CAAiB,EAEDhB,EAAWuB,EAAK,IAAI,CAEpC,CAAS,EACA,MAAOR,GAAU,CACdnB,EAAO,MAAM,QAAU,OAEvB0B,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4DACzB,CAAa,EACD,QAAQ,MAAM,yBAA0BP,CAAK,CACzD,CAAS,CACT,CAAC"}